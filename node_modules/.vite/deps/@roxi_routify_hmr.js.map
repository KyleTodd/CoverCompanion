{
  "version": 3,
  "sources": ["../../@roxi/routify/hmr.js"],
  "sourcesContent": ["/**\n * mounts app to target element \n *\n * @export\n * @param {object} Component Svelte component\n * @param {object} [options={ target: document.body }] Options for the Svelte component\n * @param {string} [id='hmr'] ID for the component container\n * @param {string} [eventName='app-loaded'] Name of the event that triggers replacement of previous component\n * @returns\n */\nexport default function HMR(Component, options = { target: document.body }, id = 'hmr', eventName = 'app-loaded') {\n    const prerenderedHtmlElement = document.getElementById(id)\n\n    // Create a hidden target element to contain our app\n    const target = document.createElement(\"div\")\n    target.style.visibility = 'hidden'\n    options.target.appendChild(target)\n\n    if (!prerenderedHtmlElement)\n        showApp()\n    else\n        // Wait for the app to load before replacing the prerendered HTML\n        addEventListener(eventName, showApp)\n\n    function showApp() {\n        removeEventListener(eventName, showApp)\n        if (prerenderedHtmlElement) prerenderedHtmlElement.remove()\n        // Show our component and take over the ID of the old container\n        target.style.visibility = null\n        target.setAttribute('id', id)\n    }\n\n    return new Component({ ...options, target });\n}"],
  "mappings": ";;;AAUe,SAAR,IAAqB,WAAW,UAAU,EAAE,QAAQ,SAAS,KAAK,GAAG,KAAK,OAAO,YAAY,cAAc;AAC9G,QAAM,yBAAyB,SAAS,eAAe,EAAE;AAGzD,QAAM,SAAS,SAAS,cAAc,KAAK;AAC3C,SAAO,MAAM,aAAa;AAC1B,UAAQ,OAAO,YAAY,MAAM;AAEjC,MAAI,CAAC;AACD,YAAQ;AAAA;AAGR,qBAAiB,WAAW,OAAO;AAEvC,WAAS,UAAU;AACf,wBAAoB,WAAW,OAAO;AACtC,QAAI;AAAwB,6BAAuB,OAAO;AAE1D,WAAO,MAAM,aAAa;AAC1B,WAAO,aAAa,MAAM,EAAE;AAAA,EAChC;AAEA,SAAO,IAAI,UAAU,EAAE,GAAG,SAAS,OAAO,CAAC;AAC/C;",
  "names": []
}
