import{S as ge,i as Oe,s as Se,e as r,a as P,t as O,b as s,j as Ie,c as te,d as l,l as ae,k as g,m as E,p as Ne,o as he,n as Le,f as ne,r as Be,g as ke,q as De,v as We,w as Te,x as Ve,y as Re,z as Ce}from"./index.28ceac01.js";function ye(t,a,e){const b=t.slice();return b[26]=a[e],b}function Ee(t,a,e){const b=t.slice();return b[29]=a[e],b}function Ae(t,a){let e,b=a[29]+"",d,i;return{key:t,first:null,c(){e=r("option"),d=O(b),e.__value=i=a[29],e.value=e.__value,this.first=e},m(v,c){te(v,e,c),l(e,d)},p(v,c){a=v,c[0]&512&&b!==(b=a[29]+"")&&We(d,b),c[0]&512&&i!==(i=a[29])&&(e.__value=i,e.value=e.__value)},d(v){v&&ne(e)}}}function Me(t,a){let e,b=a[26].label+"",d;return{key:t,first:null,c(){e=r("option"),d=O(b),e.__value=a[26].value,e.value=e.__value,this.first=e},m(i,v){te(i,e,v),l(e,d)},p(i,v){a=i},d(i){i&&ne(e)}}}function Pe(t){let a;return{c(){a=r("div"),a.textContent="Warning: The policy duration is not the standard 1 year.",s(a,"class","alert alert-warning mt-2")},m(e,b){te(e,a,b)},d(e){e&&ne(a)}}}function Ue(t){let a,e,b,d,i,v,c,I,f=[],U=new Map,T,h,S,G,p,R,C=[],J=new Map,Q,F,k,j,y,z,w,D,K,A,o,L,W,re,M,ue,oe,Z,q,ie,N,ce,x,X,be,B,pe,$,Y,de,V,ve,H,se,fe,ee=t[9];const me=n=>n[29];for(let n=0;n<ee.length;n+=1){let u=Ee(t,ee,n),_=me(u);U.set(_,f[n]=Ae(_,u))}let le=t[11];const _e=n=>n[26].value;for(let n=0;n<le.length;n+=1){let u=ye(t,le,n),_=_e(u);J.set(_,C[n]=Me(_,u))}let m=t[10]&&Pe();return{c(){a=r("form"),e=r("h5"),e.textContent="Add Policy",b=P(),d=r("div"),i=r("label"),v=O(`Username:
            `),c=r("select"),I=r("option"),I.textContent="Select a username";for(let n=0;n<f.length;n+=1)f[n].c();T=P(),h=r("div"),S=r("label"),G=O(`Policy Type:
            `),p=r("select"),R=r("option"),R.textContent="Choose Policy Type ...";for(let n=0;n<C.length;n+=1)C[n].c();Q=P(),F=r("div"),k=r("label"),j=O(`Policy Number:
            `),y=r("input"),z=P(),w=r("div"),D=r("label"),K=O(`Inception Date:
            `),A=r("input"),o=P(),L=r("div"),W=r("label"),re=O(`Expiry Date:
          `),M=r("input"),ue=P(),m&&m.c(),oe=P(),Z=r("div"),q=r("label"),ie=O(`Description:
            `),N=r("input"),ce=P(),x=r("div"),X=r("label"),be=O(`Link to Fund the Policy:
            `),B=r("input"),pe=P(),$=r("div"),Y=r("label"),de=O(`PDF:
            `),V=r("input"),ve=P(),H=r("button"),H.textContent="Upload",I.disabled=!0,I.__value="Select a username",I.value=I.__value,s(c,"class","form-select"),c.required=!0,t[8]===void 0&&Ie(()=>t[13].call(c)),s(i,"class","form-label"),s(d,"class","mb-3"),R.disabled=!0,R.selected=!0,R.__value="Choose Policy Type ...",R.value=R.__value,s(p,"id","policyType"),s(p,"class","form-control"),t[5]===void 0&&Ie(()=>t[14].call(p)),s(S,"class","form-label"),s(h,"class","mb-3"),s(y,"type","text"),s(y,"class","form-control"),y.required=!0,s(k,"class","form-label"),s(F,"class","mb-3"),s(A,"type","date"),s(A,"class","form-control"),A.required=!0,s(D,"class","form-label"),s(w,"class","mb-3"),s(M,"type","date"),s(M,"class","form-control"),M.required=!0,s(W,"class","form-label"),s(L,"class","mb-3"),s(N,"type","text"),s(N,"class","form-control"),N.required=!0,s(q,"class","form-label"),s(Z,"class","mb-3"),s(B,"type","text"),s(B,"class","form-control"),B.required=!0,s(X,"class","form-label"),s(x,"class","mb-3"),s(V,"type","file"),s(V,"accept",".pdf"),s(V,"class","form-control"),V.required=!0,s(Y,"class","form-label"),s($,"class","mb-3"),s(H,"type","submit"),s(H,"class","btn btn-primary"),s(a,"class","m-5")},m(n,u){te(n,a,u),l(a,e),l(a,b),l(a,d),l(d,i),l(i,v),l(i,c),l(c,I);for(let _=0;_<f.length;_+=1)f[_].m(c,null);ae(c,t[8]),l(a,T),l(a,h),l(h,S),l(S,G),l(S,p),l(p,R);for(let _=0;_<C.length;_+=1)C[_].m(p,null);ae(p,t[5]),l(a,Q),l(a,F),l(F,k),l(k,j),l(k,y),g(y,t[4]),l(a,z),l(a,w),l(w,D),l(D,K),l(D,A),g(A,t[0]),l(a,o),l(a,L),l(L,W),l(W,re),l(W,M),g(M,t[1]),l(L,ue),m&&m.m(L,null),l(a,oe),l(a,Z),l(Z,q),l(q,ie),l(q,N),g(N,t[6]),l(a,ce),l(a,x),l(x,X),l(X,be),l(X,B),g(B,t[7]),l(a,pe),l(a,$),l($,Y),l(Y,de),l(Y,V),l(a,ve),l(a,H),se||(fe=[E(c,"change",t[13]),E(p,"change",t[14]),E(y,"input",t[15]),E(A,"input",t[16]),E(M,"input",t[17]),E(M,"focus",t[18]),E(M,"blur",t[19]),E(N,"input",t[20]),E(B,"input",t[21]),E(V,"change",t[22]),E(a,"submit",Ne(t[12]))],se=!0)},p(n,u){u[0]&512&&(ee=n[9],f=he(f,u,me,1,n,ee,U,c,Te,Ae,null,Ee)),u[0]&768&&ae(c,n[8]),u[0]&2048&&(le=n[11],C=he(C,u,_e,1,n,le,J,p,Te,Me,null,ye)),u[0]&2080&&ae(p,n[5]),u[0]&16&&y.value!==n[4]&&g(y,n[4]),u[0]&1&&g(A,n[0]),u[0]&2&&g(M,n[1]),n[10]?m||(m=Pe(),m.c(),m.m(L,null)):m&&(m.d(1),m=null),u[0]&64&&N.value!==n[6]&&g(N,n[6]),u[0]&128&&B.value!==n[7]&&g(B,n[7])},i:Le,o:Le,d(n){n&&ne(a);for(let u=0;u<f.length;u+=1)f[u].d();for(let u=0;u<C.length;u+=1)C[u].d();m&&m.d(),se=!1,Be(fe)}}}function Fe(t,a,e){let b;ke(t,Ve,o=>e(24,b=o));let d,i="",v="",c="",I="",f="",U=[],T="",h="",S="",G=!1,p=!1;De(async()=>{try{S=(await Re.get("http://localhost:3000/getbUsername",{withCredentials:!0})).data.busername,S==null?(console.log("Not logged in"),b("/brokerLogin")):console.log("Logged in AddPolicy: "+S)}catch(o){console.error(o)}C()});const R=[{value:"ASSOCIATIO",label:"ASSOCIATIO - Association Liability"},{value:"BINT",label:"BINT - Business Interruption Insurance"},{value:"BOIL",label:"BOIL - Boiler Explosion"},{value:"BURG",label:"BURG - Burglary Insurance"},{value:"BUS",label:"BUS - Business Insurance"},{value:"BWACT",label:"BWACT - Builders Warranty ACT"},{value:"BWNSW",label:"BWNSW - Builders Warranty NSW"},{value:"COMP",label:"COMP - Computer Insurance"},{value:"COMSTRUCT",label:"COMSTRUCT - Commercial Structural Defects"},{value:"CONS",label:"CONS - Construction Insurance"},{value:"CROP",label:"CROP - Crop Insurance"},{value:"CVAN",label:"CVAN - Caravan Insurance"},{value:"CYB",label:"CYB - Cyber Crime"},{value:"CYBER",label:"CYBER - Security and Privacy"},{value:"D&O",label:"D&O - Directors and Officers Liability"},{value:"FARM",label:"FARM - Farm Insurance"},{value:"FEE ONLY",label:"FEE ONLY - Fee Only"},{value:"FIRE",label:"FIRE - Fire & Perils"},{value:"FLEET",label:"FLEET - Motor Fleet"},{value:"FMOT",label:"FMOT - Farm Motor Insurance"},{value:"GENP",label:"GENP - General Property"},{value:"GNL",label:"GNL - General Liability"},{value:"HH",label:"HH - Home Insurance"},{value:"HOME",label:"HOME - Home Insurance"},{value:"ISR",label:"ISR - Industrial Special Risks Insurance"},{value:"IT PI",label:"IT PI - Information Technology Professional Indemnity"},{value:"JEWBLO",label:"JEWBLO - Jewellers Block"},{value:"LD",label:"LD - Land Lord Domestic"},{value:"LEGALEXP",label:"LEGALEXP - Legal Expenses Insurance"},{value:"LIAB",label:"LIAB - Liability Insurance"},{value:"LIVE",label:"LIVE - Livestock Insurance"},{value:"LL",label:"LL - Land Lord Commercial"},{value:"LLCOMM",label:"LLCOMM - Land Lord Commercial"},{value:"LOSS",label:"LOSS - Consequential Loss Insurance"},{value:"MACH",label:"MACH - Machinery Breakdown Insurance"},{value:"MANAGEMENT",label:"MANAGEMENT - Management Liability"},{value:"MAR",label:"MAR - Marine Transit Insurance"},{value:"MARINE",label:"MARINE - Annual Marine"},{value:"MC",label:"MC - Motor Cycle Insurance"},{value:"MNL",label:"MNL - Management Liability"},{value:"MON",label:"MON - Money Insurance"},{value:"MVC",label:"MVC - Commercial Motor Vehicle Insurance"},{value:"MVP",label:"MVP - Private Motor Vehicle Insurance"},{value:"MVT",label:"MVT - Commercial Truck Insurance"},{value:"OWNER BUIL",label:"OWNER BUIL - Owner Builder Warranty Insurance"},{value:"PERS",label:"PERS - Personal Accident and Illness"},{value:"PI",label:"PI - Professional Indemnity Insurance"},{value:"PI OVERSEA",label:"PI OVERSEA - PI Insurance"},{value:"PLEA",label:"PLEA - Pleasure Craft"},{value:"PLNT/EQUIP",label:"PLNT/EQUIP - Plant and Equipment"},{value:"PR",label:"PR - Product Recall"},{value:"RD",label:"RD - Rural Domestic"},{value:"RESBUILWAR",label:"RESBUILWAR - Residential Builders Warranty NSW"},{value:"RESBUWAROT",label:"RESBUWAROT - Res Builders Warranty All states except NSW"},{value:"RET",label:"RET - Retail Insurance"},{value:"RU",label:"RU - Rural Commercial"},{value:"STRCOM",label:"STRCOM - Commercial Strata Title Insurance"},{value:"STRRES",label:"STRRES - Residential Strata Title Insurance"},{value:"TAX",label:"TAX - Tax"},{value:"TAXIMETRO",label:"TAXIMETRO - Taxi Metro Motor & Liability"},{value:"TAXIREG",label:"TAXIREG - TAXI Regional Motor"},{value:"TAXIREGLIA",label:"TAXIREGLIA - Taxi Regional Liability"},{value:"TENP",label:"TENP - Tenanted Property Insurance Cover"},{value:"TP",label:"TP - Third Party Commercial Motor Insurance"},{value:"TRADECR",label:"TRADECR - Trade Credit"},{value:"TRAV",label:"TRAV - Travel Insurance"},{value:"UNRG",label:"UNRG - Unregistered Machinery Insurance"},{value:"VACANTLAND",label:"VACANTLAND - Vacant Land Liability"},{value:"VAL",label:"VAL - Valuables"},{value:"VOLW",label:"VOLW - Voluntary Workers Insurance"},{value:"WCOV",label:"WCOV - Workers' Compensation Insurance"}],C=async()=>{const o=await Re.get("http://localhost:3000/usernames",{withCredentials:!0});e(9,U=o.data)},J=async()=>{const o=new FormData;o.append("pdf",d[0]),o.append("policyNumber",i),o.append("policyType",v),o.append("description",c),o.append("fundingLink",I),o.append("username",f),o.append("s_date",T),o.append("e_date",h),(await fetch("http://localhost:3000/uploadPolicy",{method:"POST",body:o})).ok?(alert("Upload successful"),location.reload()):console.log("Upload failed")};function Q(){f=Ce(this),e(8,f),e(9,U)}function F(){v=Ce(this),e(5,v),e(11,R)}function k(){i=this.value,e(4,i)}function j(){T=this.value,e(0,T)}function y(){h=this.value,e(1,h),e(0,T),e(2,p)}const z=()=>e(2,p=!0),w=()=>e(2,p=!1);function D(){c=this.value,e(6,c)}function K(){I=this.value,e(7,I)}function A(){d=this.files,e(3,d)}return t.$$.update=()=>{if(t.$$.dirty[0]&7){if(T&&!p){let o=new Date(T),L=new Date(o.setFullYear(o.getFullYear()+1));e(1,h=L.toISOString().split("T")[0])}if(h){let o=new Date(T),L=new Date(h),W=new Date(o.setFullYear(o.getFullYear()+1));e(10,G=L.toISOString()!==W.toISOString())}}},[T,h,p,d,i,v,c,I,f,U,G,R,J,Q,F,k,j,y,z,w,D,K,A]}class Ge extends ge{constructor(a){super(),Oe(this,a,Fe,Ue,Se,{},null,[-1,-1])}}export{Ge as default};
