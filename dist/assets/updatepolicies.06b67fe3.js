import{S as We,i as Ye,s as Fe,e as o,a as m,t as N,I as Ue,b as a,j as Ve,c as G,d as l,l as pe,m as q,o as me,n as ye,f as H,r as de,g as Ge,q as He,v as Z,h as Ee,w as ve,k as le,p as Xe,x as je,y as se,z as Te}from"./index.28ceac01.js";function Pe(s,t,e){const n=s.slice();return n[41]=t[e],n}function Re(s,t,e){const n=s.slice();return n[44]=t[e],n[46]=e,n}function ke(s,t,e){const n=s.slice();return n[41]=t[e],n}function Me(s,t,e){const n=s.slice();return n[49]=t[e],n}function Le(s,t){let e,n=t[49]+"",i,u;return{key:s,first:null,c(){e=o("option"),i=N(n),e.__value=u=t[49],e.value=e.__value,this.first=e},m(c,r){G(c,e,r),l(e,i)},p(c,r){t=c,r[0]&4&&n!==(n=t[49]+"")&&Z(i,n),r[0]&4&&u!==(u=t[49])&&(e.__value=u,e.value=e.__value)},d(c){c&&H(e)}}}function qe(s){let t=[],e=new Map,n,i=s[9];const u=c=>c[41].POLICY_NUMBER;for(let c=0;c<i.length;c+=1){let r=ke(s,i,c),E=u(r);e.set(E,t[c]=Se(E,r))}return{c(){for(let c=0;c<t.length;c+=1)t[c].c();n=Ue()},m(c,r){for(let E=0;E<t.length;E+=1)t[E].m(c,r);G(c,n,r)},p(c,r){r[0]&360961&&(i=c[9],t=me(t,r,u,1,c,i,e,n.parentNode,ve,Se,n,ke))},d(c){for(let r=0;r<t.length;r+=1)t[r].d(c);c&&H(n)}}}function Je(s){let t;return{c(){t=o("p"),t.textContent="No past or present policies"},m(e,n){G(e,t,n)},p:ye,d(e){e&&H(t)}}}function Ae(s){let t,e,n=ue(s[41].S_DATE)+"",i;return{c(){t=o("div"),e=N("Start date: "),i=N(n)},m(u,c){G(u,t,c),l(t,e),l(t,i)},p(u,c){c[0]&512&&n!==(n=ue(u[41].S_DATE)+"")&&Z(i,n)},d(u){u&&H(t)}}}function Se(s,t){let e,n,i,u=new Date(t[41].E_DATE)>=new Date?"\u{1F7E2}":"\u{1F534}",c,r,E=t[41].DESCRIPTION+"",v,A,P,d=t[41].POLICY_NUMBER+"",y,F,O=t[41].TYPE+"",f,W,R,I,w,k,S,_,C,D,V,T,g,X,Y,L=ue(t[41].E_DATE)+"",B,b,h,K;function x(){return t[24](t[41])}function te(){return t[25](t[41])}function oe(){return t[26](t[41])}let U=t[41].S_DATE&&Ae(t);return{key:s,first:null,c(){e=o("div"),n=o("div"),i=o("h5"),c=N(u),r=m(),v=N(E),A=m(),P=o("p"),y=N(d),F=N(" - "),f=N(O),W=m(),R=o("div"),I=o("div"),w=o("button"),w.textContent="Delete Policy",k=m(),S=o("div"),_=o("button"),_.textContent="\u{1F441}\uFE0F Logs",C=m(),D=o("button"),D.textContent="Edit Policy",V=m(),T=o("div"),U&&U.c(),g=m(),X=o("div"),Y=N("End date: "),B=N(L),b=m(),a(P,"class","card-subtitle text-muted"),a(n,"class","card-header d-flex justify-content-between"),a(w,"class","btn btn-danger"),a(I,"class","col-6 p-2 d-flex justify-content-start"),a(_,"class","btn btn-secondary"),a(D,"class","btn btn-primary"),a(S,"class","col-6 p-2 d-flex justify-content-end"),a(T,"class","col-12"),a(R,"class","card-body row"),a(e,"class","card border-dark mb-3"),this.first=e},m($,J){G($,e,J),l(e,n),l(n,i),l(i,c),l(i,r),l(i,v),l(n,A),l(n,P),l(P,y),l(P,F),l(P,f),l(e,W),l(e,R),l(R,I),l(I,w),l(R,k),l(R,S),l(S,_),l(S,C),l(S,D),l(R,V),l(R,T),U&&U.m(T,null),l(T,g),l(T,X),l(X,Y),l(X,B),l(e,b),h||(K=[q(w,"click",x),q(_,"click",te),q(D,"click",oe)],h=!0)},p($,J){t=$,J[0]&512&&u!==(u=new Date(t[41].E_DATE)>=new Date?"\u{1F7E2}":"\u{1F534}")&&Z(c,u),J[0]&512&&E!==(E=t[41].DESCRIPTION+"")&&Z(v,E),J[0]&512&&d!==(d=t[41].POLICY_NUMBER+"")&&Z(y,d),J[0]&512&&O!==(O=t[41].TYPE+"")&&Z(f,O),t[41].S_DATE?U?U.p(t,J):(U=Ae(t),U.c(),U.m(T,g)):U&&(U.d(1),U=null),J[0]&512&&L!==(L=ue(t[41].E_DATE)+"")&&Z(B,L)},d($){$&&H(e),U&&U.d(),h=!1,de(K)}}}function ge(s){let t,e,n,i,u,c,r,E,v,A,P,d=[],y=new Map,F,O,f,W,R,I,w,k=s[4];const S=_=>_[46];for(let _=0;_<k.length;_+=1){let C=Re(s,k,_),D=S(C);y.set(D,d[_]=Ne(D,C))}return{c(){t=o("div"),e=o("div"),n=o("div"),i=o("div"),u=o("h5"),c=N("Policy Logs for "),r=N(s[5]),E=m(),v=o("button"),A=m(),P=o("div");for(let _=0;_<d.length;_+=1)d[_].c();F=m(),O=o("div"),f=o("button"),f.textContent="Close",W=m(),R=o("div"),a(u,"class","modal-title"),a(v,"type","button"),a(v,"class","btn-close"),a(v,"data-bs-dismiss","modal"),a(v,"aria-label","Close"),a(i,"class","modal-header"),a(P,"class","modal-body"),a(f,"type","button"),a(f,"class","btn btn-secondary"),a(O,"class","modal-footer"),a(n,"class","modal-content"),a(e,"class","modal-dialog"),a(t,"class","modal"),a(t,"tabindex","-1"),Ee(t,"display","block"),a(R,"class","modal-backdrop show")},m(_,C){G(_,t,C),l(t,e),l(e,n),l(n,i),l(i,u),l(u,c),l(u,r),l(i,E),l(i,v),l(n,A),l(n,P);for(let D=0;D<d.length;D+=1)d[D].m(P,null);l(n,F),l(n,O),l(O,f),G(_,W,C),G(_,R,C),I||(w=[q(v,"click",s[20]),q(f,"click",s[20])],I=!0)},p(_,C){C[0]&32&&Z(r,_[5]),C[0]&16&&(k=_[4],d=me(d,C,S,1,_,k,y,P,ve,Ne,null,Re))},d(_){_&&H(t);for(let C=0;C<d.length;C+=1)d[C].d();_&&H(W),_&&H(R),I=!1,de(w)}}}function Ne(s,t){let e,n,i=t[44].username+"",u,c,r=ue(t[44].view_date)+"",E,v,A=Be(t[44].view_date)+"",P;return{key:s,first:null,c(){e=o("p"),n=N("User: "),u=N(i),c=N(", Date: "),E=N(r),v=N(", Time: "),P=N(A),this.first=e},m(d,y){G(d,e,y),l(e,n),l(e,u),l(e,c),l(e,E),l(e,v),l(e,P)},p(d,y){t=d,y[0]&16&&i!==(i=t[44].username+"")&&Z(u,i),y[0]&16&&r!==(r=ue(t[44].view_date)+"")&&Z(E,r),y[0]&16&&A!==(A=Be(t[44].view_date)+"")&&Z(P,A)},d(d){d&&H(e)}}}function Oe(s){let t,e,n,i,u,c,r,E,v,A,P,d=s[8].policyNumber+"",y,F,O=s[8].username+"",f,W,R,I,w,k,S,_,C,D,V;return{c(){t=o("div"),e=o("div"),n=o("div"),i=o("div"),u=o("h5"),u.textContent="Confirm Delete",c=m(),r=o("button"),E=m(),v=o("div"),A=o("p"),P=N("Are you sure you want to delete policy with policy number "),y=N(d),F=N(" from "),f=N(O),W=N("?"),R=m(),I=o("div"),w=o("button"),w.textContent="Delete",k=m(),S=o("button"),S.textContent="Cancel",_=m(),C=o("div"),a(u,"class","modal-title"),a(r,"type","button"),a(r,"class","btn-close"),a(r,"data-bs-dismiss","modal"),a(r,"aria-label","Close"),a(i,"class","modal-header"),a(v,"class","modal-body"),a(w,"type","button"),a(w,"class","btn btn-danger"),a(S,"type","button"),a(S,"class","btn btn-secondary"),a(I,"class","modal-footer"),a(n,"class","modal-content"),a(e,"class","modal-dialog"),a(t,"class","modal"),a(t,"tabindex","-1"),Ee(t,"display","block"),a(C,"class","modal-backdrop show")},m(T,g){G(T,t,g),l(t,e),l(e,n),l(n,i),l(i,u),l(i,c),l(i,r),l(n,E),l(n,v),l(v,A),l(A,P),l(A,y),l(A,F),l(A,f),l(A,W),l(n,R),l(n,I),l(I,w),l(I,k),l(I,S),G(T,_,g),G(T,C,g),D||(V=[q(r,"click",s[27]),q(w,"click",s[17]),q(S,"click",s[28])],D=!0)},p(T,g){g[0]&256&&d!==(d=T[8].policyNumber+"")&&Z(y,d),g[0]&256&&O!==(O=T[8].username+"")&&Z(f,O)},d(T){T&&H(t),T&&H(_),T&&H(C),D=!1,de(V)}}}function we(s){let t,e,n,i,u,c,r,E,v,A,P,d,y,F,O,f,W,R,I,w,k,S,_,C,D,V,T,g=[],X=new Map,Y,L,B,b,h,K,x,te,oe,U,$,J,ie,be,p,z,Q,ce,ae,ee,ne,fe,he,Ce,_e=s[13];const Ie=M=>M[41].value;for(let M=0;M<_e.length;M+=1){let j=Pe(s,_e,M),re=Ie(j);X.set(re,g[M]=De(re,j))}return{c(){t=o("div"),e=o("div"),n=o("div"),i=o("div"),u=o("h5"),c=N("Edit Policy "),r=N(s[12]),E=m(),v=o("button"),A=m(),P=o("div"),d=o("form"),y=o("div"),F=o("label"),F.textContent="Username:",O=m(),f=o("input"),W=m(),R=o("div"),I=o("label"),I.textContent="Policy Number:",w=m(),k=o("input"),S=m(),_=o("div"),C=o("label"),C.textContent="Policy Type:",D=m(),V=o("select"),T=o("option"),T.textContent="Choose Policy Type ...";for(let M=0;M<g.length;M+=1)g[M].c();Y=m(),L=o("div"),B=o("label"),B.textContent="Policy Description:",b=m(),h=o("textarea"),K=m(),x=o("div"),te=o("label"),te.textContent="Policy Start Date:",oe=m(),U=o("input"),$=m(),J=o("div"),ie=o("label"),ie.textContent="Policy End Date:",be=m(),p=o("input"),z=m(),Q=o("button"),Q.textContent="Save Changes",ce=m(),ae=o("div"),ee=o("button"),ee.textContent="Close",ne=m(),fe=o("div"),a(u,"class","modal-title"),a(v,"type","button"),a(v,"class","btn-close"),a(v,"data-bs-dismiss","modal"),a(v,"aria-label","Close"),a(i,"class","modal-header"),a(F,"class","form-label"),a(f,"type","text"),a(f,"class","form-control"),f.readOnly=!0,a(y,"class","mb-3"),a(I,"class","form-label"),a(k,"type","text"),a(k,"class","form-control"),a(R,"class","mb-3"),a(C,"class","form-label"),T.disabled=!0,T.selected=!0,T.__value="Choose Policy Type ...",T.value=T.__value,a(V,"id","policyType"),a(V,"class","form-control"),s[10].TYPE===void 0&&Ve(()=>s[32].call(V)),a(_,"class","mb-3"),a(B,"class","form-label"),a(h,"class","form-control"),a(L,"class","mb-3"),a(te,"class","form-label"),a(U,"type","date"),a(U,"class","form-control"),a(x,"class","mb-3"),a(ie,"class","form-label"),a(p,"type","date"),a(p,"class","form-control"),a(J,"class","mb-3"),a(Q,"type","submit"),a(Q,"class","btn btn-primary"),a(P,"class","modal-body"),a(ee,"type","button"),a(ee,"class","btn btn-secondary"),a(ae,"class","modal-footer"),a(n,"class","modal-content"),a(e,"class","modal-dialog"),a(t,"class","modal"),a(t,"tabindex","-1"),Ee(t,"display","block"),a(fe,"class","modal-backdrop show")},m(M,j){G(M,t,j),l(t,e),l(e,n),l(n,i),l(i,u),l(u,c),l(u,r),l(i,E),l(i,v),l(n,A),l(n,P),l(P,d),l(d,y),l(y,F),l(y,O),l(y,f),le(f,s[10].USERNAME),l(d,W),l(d,R),l(R,I),l(R,w),l(R,k),le(k,s[10].POLICY_NUMBER),l(d,S),l(d,_),l(_,C),l(_,D),l(_,V),l(V,T);for(let re=0;re<g.length;re+=1)g[re].m(V,null);pe(V,s[10].TYPE),l(d,Y),l(d,L),l(L,B),l(L,b),l(L,h),le(h,s[10].DESCRIPTION),l(d,K),l(d,x),l(x,te),l(x,oe),l(x,U),le(U,s[10].s_date),l(d,$),l(d,J),l(J,ie),l(J,be),l(J,p),le(p,s[10].e_date),l(d,z),l(d,Q),l(n,ce),l(n,ae),l(ae,ee),G(M,ne,j),G(M,fe,j),he||(Ce=[q(v,"click",s[29]),q(f,"input",s[30]),q(k,"input",s[31]),q(V,"change",s[32]),q(h,"input",s[33]),q(U,"input",s[34]),q(p,"input",s[35]),q(d,"submit",Xe(s[19])),q(ee,"click",s[36])],he=!0)},p(M,j){j[0]&4096&&Z(r,M[12]),j[0]&9216&&f.value!==M[10].USERNAME&&le(f,M[10].USERNAME),j[0]&9216&&k.value!==M[10].POLICY_NUMBER&&le(k,M[10].POLICY_NUMBER),j[0]&8192&&(_e=M[13],g=me(g,j,Ie,1,M,_e,X,V,ve,De,null,Pe)),j[0]&9216&&pe(V,M[10].TYPE),j[0]&9216&&le(h,M[10].DESCRIPTION),j[0]&9216&&le(U,M[10].s_date),j[0]&9216&&le(p,M[10].e_date)},d(M){M&&H(t);for(let j=0;j<g.length;j+=1)g[j].d();M&&H(ne),M&&H(fe),he=!1,de(Ce)}}}function De(s,t){let e,n=t[41].label+"",i;return{key:s,first:null,c(){e=o("option"),i=N(n),e.__value=t[41].value,e.value=e.__value,this.first=e},m(u,c){G(u,e,c),l(e,i)},p(u,c){t=u},d(u){u&&H(e)}}}function Qe(s){let t,e,n,i,u,c,r,E,v=[],A=new Map,P,d,y,F,O,f,W,R,I,w,k,S,_,C,D=s[2];const V=b=>b[49];for(let b=0;b<D.length;b+=1){let h=Me(s,D,b),K=V(h);A.set(K,v[b]=Le(K,h))}function T(b,h){return b[3]?Je:qe}let g=T(s),X=g(s),Y=s[6]&&ge(s),L=s[7]&&Oe(s),B=s[11]&&we(s);return{c(){t=o("div"),e=o("h5"),e.textContent="Select Client to View Policies",n=m(),i=o("div"),u=o("label"),c=N(`Username:
            `),r=o("select"),E=o("option"),E.textContent="Select a username";for(let b=0;b<v.length;b+=1)v[b].c();P=m(),d=o("div"),y=o("input"),F=m(),O=o("label"),O.textContent="Show expired policies",f=m(),W=o("h5"),W.textContent="Policies",R=m(),X.c(),I=m(),Y&&Y.c(),w=m(),L&&L.c(),k=m(),B&&B.c(),S=Ue(),E.disabled=!0,E.__value="Select a username",E.value=E.__value,a(r,"class","form-select"),r.required=!0,s[0]===void 0&&Ve(()=>s[22].call(r)),a(u,"class","form-label"),a(y,"class","form-check-input"),a(y,"type","checkbox"),a(y,"id","expiredCheck"),a(O,"class","form-check-label"),a(O,"for","expiredCheck"),a(d,"class","form-check"),a(i,"class","mb-3"),a(t,"class","container mt-5 text-align-center")},m(b,h){G(b,t,h),l(t,e),l(t,n),l(t,i),l(i,u),l(u,c),l(u,r),l(r,E);for(let K=0;K<v.length;K+=1)v[K].m(r,null);pe(r,s[0]),l(i,P),l(i,d),l(d,y),y.checked=s[1],l(d,F),l(d,O),l(t,f),l(t,W),l(t,R),X.m(t,null),G(b,I,h),Y&&Y.m(b,h),G(b,w,h),L&&L.m(b,h),G(b,k,h),B&&B.m(b,h),G(b,S,h),_||(C=[q(r,"change",s[22]),q(r,"change",s[14]),q(y,"change",s[23])],_=!0)},p(b,h){h[0]&4&&(D=b[2],v=me(v,h,V,1,b,D,A,r,ve,Le,null,Me)),h[0]&5&&pe(r,b[0]),h[0]&2&&(y.checked=b[1]),g===(g=T(b))&&X?X.p(b,h):(X.d(1),X=g(b),X&&(X.c(),X.m(t,null))),b[6]?Y?Y.p(b,h):(Y=ge(b),Y.c(),Y.m(w.parentNode,w)):Y&&(Y.d(1),Y=null),b[7]?L?L.p(b,h):(L=Oe(b),L.c(),L.m(k.parentNode,k)):L&&(L.d(1),L=null),b[11]?B?B.p(b,h):(B=we(b),B.c(),B.m(S.parentNode,S)):B&&(B.d(1),B=null)},i:ye,o:ye,d(b){b&&H(t);for(let h=0;h<v.length;h+=1)v[h].d();X.d(),b&&H(I),Y&&Y.d(b),b&&H(w),L&&L.d(b),b&&H(k),B&&B.d(b),b&&H(S),_=!1,de(C)}}}function ue(s){const t=new Date(s),e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear();return e+"/"+n+"/"+i}function Be(s){const t=new Date(s);let e=t.getHours(),n=t.getMinutes();const i=e>=12?"PM":"AM";return e=e%12,e=e||12,n=n<10?"0"+n:n,e+":"+n+" "+i}function ze(s,t,e){let n;Ge(s,je,p=>e(38,n=p));let i="",u=[],c="",r=[],E=!1,v=[],A="",P=!1,d=!1,y=null,F=!1,O=[],f=null,W=!1,R="";const I=[{value:"ASSOCIATIO",label:"ASSOCIATIO - Association Liability"},{value:"BINT",label:"BINT - Business Interruption Insurance"},{value:"BOIL",label:"BOIL - Boiler Explosion"},{value:"BURG",label:"BURG - Burglary Insurance"},{value:"BUS",label:"BUS - Business Insurance"},{value:"BWACT",label:"BWACT - Builders Warranty ACT"},{value:"BWNSW",label:"BWNSW - Builders Warranty NSW"},{value:"COMP",label:"COMP - Computer Insurance"},{value:"COMSTRUCT",label:"COMSTRUCT - Commercial Structural Defects"},{value:"CONS",label:"CONS - Construction Insurance"},{value:"CROP",label:"CROP - Crop Insurance"},{value:"CVAN",label:"CVAN - Caravan Insurance"},{value:"CYB",label:"CYB - Cyber Crime"},{value:"CYBER",label:"CYBER - Security and Privacy"},{value:"D&O",label:"D&O - Directors and Officers Liability"},{value:"FARM",label:"FARM - Farm Insurance"},{value:"FEE ONLY",label:"FEE ONLY - Fee Only"},{value:"FIRE",label:"FIRE - Fire & Perils"},{value:"FLEET",label:"FLEET - Motor Fleet"},{value:"FMOT",label:"FMOT - Farm Motor Insurance"},{value:"GENP",label:"GENP - General Property"},{value:"GNL",label:"GNL - General Liability"},{value:"HH",label:"HH - Home Insurance"},{value:"HOME",label:"HOME - Home Insurance"},{value:"ISR",label:"ISR - Industrial Special Risks Insurance"},{value:"IT PI",label:"IT PI - Information Technology Professional Indemnity"},{value:"JEWBLO",label:"JEWBLO - Jewellers Block"},{value:"LD",label:"LD - Land Lord Domestic"},{value:"LEGALEXP",label:"LEGALEXP - Legal Expenses Insurance"},{value:"LIAB",label:"LIAB - Liability Insurance"},{value:"LIVE",label:"LIVE - Livestock Insurance"},{value:"LL",label:"LL - Land Lord Commercial"},{value:"LLCOMM",label:"LLCOMM - Land Lord Commercial"},{value:"LOSS",label:"LOSS - Consequential Loss Insurance"},{value:"MACH",label:"MACH - Machinery Breakdown Insurance"},{value:"MANAGEMENT",label:"MANAGEMENT - Management Liability"},{value:"MAR",label:"MAR - Marine Transit Insurance"},{value:"MARINE",label:"MARINE - Annual Marine"},{value:"MC",label:"MC - Motor Cycle Insurance"},{value:"MNL",label:"MNL - Management Liability"},{value:"MON",label:"MON - Money Insurance"},{value:"MVC",label:"MVC - Commercial Motor Vehicle Insurance"},{value:"MVP",label:"MVP - Private Motor Vehicle Insurance"},{value:"MVT",label:"MVT - Commercial Truck Insurance"},{value:"OWNER BUIL",label:"OWNER BUIL - Owner Builder Warranty Insurance"},{value:"PERS",label:"PERS - Personal Accident and Illness"},{value:"PI",label:"PI - Professional Indemnity Insurance"},{value:"PI OVERSEA",label:"PI OVERSEA - PI Insurance"},{value:"PLEA",label:"PLEA - Pleasure Craft"},{value:"PLNT/EQUIP",label:"PLNT/EQUIP - Plant and Equipment"},{value:"PR",label:"PR - Product Recall"},{value:"RD",label:"RD - Rural Domestic"},{value:"RESBUILWAR",label:"RESBUILWAR - Residential Builders Warranty NSW"},{value:"RESBUWAROT",label:"RESBUWAROT - Res Builders Warranty All states except NSW"},{value:"RET",label:"RET - Retail Insurance"},{value:"RU",label:"RU - Rural Commercial"},{value:"STRCOM",label:"STRCOM - Commercial Strata Title Insurance"},{value:"STRRES",label:"STRRES - Residential Strata Title Insurance"},{value:"TAX",label:"TAX - Tax"},{value:"TAXIMETRO",label:"TAXIMETRO - Taxi Metro Motor & Liability"},{value:"TAXIREG",label:"TAXIREG - TAXI Regional Motor"},{value:"TAXIREGLIA",label:"TAXIREGLIA - Taxi Regional Liability"},{value:"TENP",label:"TENP - Tenanted Property Insurance Cover"},{value:"TP",label:"TP - Third Party Commercial Motor Insurance"},{value:"TRADECR",label:"TRADECR - Trade Credit"},{value:"TRAV",label:"TRAV - Travel Insurance"},{value:"UNRG",label:"UNRG - Unregistered Machinery Insurance"},{value:"VACANTLAND",label:"VACANTLAND - Vacant Land Liability"},{value:"VAL",label:"VAL - Valuables"},{value:"VOLW",label:"VOLW - Voluntary Workers Insurance"},{value:"WCOV",label:"WCOV - Workers' Compensation Insurance"}];He(async()=>{try{c=(await se.get("http://localhost:3000/getbUsername",{withCredentials:!0})).data.busername,c==null?(console.log("Not logged in"),n("/brokerLogin")):console.log("Logged in UpdatePolicy: "+c)}catch(p){console.error(p)}w()});const w=async()=>{const p=await se.get("http://localhost:3000/usernames",{withCredentials:!0});e(2,u=p.data)},k=async()=>{try{const p=await se.get(`http://localhost:3000/brokerpolicies?username=${i}`,{withCredentials:!0});e(21,r=p.data),e(3,E=!1)}catch(p){p.response&&p.response.status===404?e(3,E=!0):console.error(p)}};async function S(p){const z=await se.get(`http://localhost:3000/getPolicyLogs?policyNumber=${p}`,{withCredentials:!0});e(4,v=z.data),e(6,P=!0)}function _(p){e(5,A=p),S(p)}function C(p,z){e(8,y={username:p,policyNumber:z}),e(7,d=!0)}async function D(){var p,z;try{const Q=await se.delete(`http://localhost:3000/deletePolicy/${y.username}/${y.policyNumber}`,{withCredentials:!0});window.alert(Q.data.message||"Policy has been deleted successfully"),k()}catch(Q){window.alert(((z=(p=Q.response)==null?void 0:p.data)==null?void 0:z.message)||"An error occurred while deleting the policy")}finally{e(7,d=!1)}}async function V(p,z){var Q,ce;try{const ae=await se.get(`http://localhost:3000/getPolicy/${p}/${z}`,{withCredentials:!0});e(10,f=ae.data),e(12,R=z);let ee=new Date(f.S_DATE);e(10,f.s_date=`${ee.getFullYear()}-${(ee.getMonth()+1).toString().padStart(2,"0")}-${ee.getDate().toString().padStart(2,"0")}`,f);let ne=new Date(f.E_DATE);e(10,f.e_date=`${ne.getFullYear()}-${(ne.getMonth()+1).toString().padStart(2,"0")}-${ne.getDate().toString().padStart(2,"0")}`,f),e(11,W=!0)}catch(ae){window.alert(((ce=(Q=ae.response)==null?void 0:Q.data)==null?void 0:ce.message)||"An error occurred while fetching the policy")}}async function T(){var p,z;try{const Q=await se.put(`http://localhost:3000/updatePolicy/${f.USERNAME}`,f,{withCredentials:!0});window.alert(Q.data.message||"Policy has been updated successfully"),e(12,R=""),k()}catch(Q){window.alert(((z=(p=Q.response)==null?void 0:p.data)==null?void 0:z.message)||"An error occurred while updating the policy")}finally{e(11,W=!1)}}function g(){e(6,P=!1)}function X(){i=Te(this),e(0,i),e(2,u)}function Y(){F=this.checked,e(1,F)}const L=p=>C(i,p.POLICY_NUMBER),B=p=>_(p.POLICY_NUMBER),b=p=>V(i,p.POLICY_NUMBER),h=()=>{e(7,d=!1)},K=()=>{e(7,d=!1)},x=()=>{e(11,W=!1)};function te(){f.USERNAME=this.value,e(10,f),e(13,I)}function oe(){f.POLICY_NUMBER=this.value,e(10,f),e(13,I)}function U(){f.TYPE=Te(this),e(10,f),e(13,I)}function $(){f.DESCRIPTION=this.value,e(10,f),e(13,I)}function J(){f.s_date=this.value,e(10,f),e(13,I)}function ie(){f.e_date=this.value,e(10,f),e(13,I)}const be=()=>{e(11,W=!1)};return s.$$.update=()=>{s.$$.dirty[0]&1&&i&&k(),s.$$.dirty[0]&2097154&&e(9,O=F?r:r.filter(p=>new Date(p.E_DATE)>=new Date))},[i,F,u,E,v,A,P,d,y,O,f,W,R,I,k,_,C,D,V,T,g,r,X,Y,L,B,b,h,K,x,te,oe,U,$,J,ie,be]}class Ze extends We{constructor(t){super(),Ye(this,t,ze,Qe,Fe,{},null,[-1,-1])}}export{Ze as default};
